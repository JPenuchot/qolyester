<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Qolyester daemon: route.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>route.hh</h1><a href="a00253.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (C) 2003, 2004, 2005 Laboratoire de Recherche en Informatique</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="comment">// This file is part of Qolyester.</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="comment">// Qolyester is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">// modify it under the terms of the GNU General Public License</span>
<a name="l00007"></a>00007 <span class="comment">// as published by the Free Software Foundation; either version 2</span>
<a name="l00008"></a>00008 <span class="comment">// of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">// Qolyester is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment">// GNU General Public License for more details.</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">// along with this program; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.</span>
<a name="l00018"></a>00018 
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">// This include is out of protection to resolve dependency cycles.</span>
<a name="l00028"></a>00028 <span class="preprocessor"># include "<a class="code" href="a00219.html">sys/interfaceinfo.hh</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef QOLYESTER_DAEMON_NET_ROUTE_HH</span>
<a name="l00031"></a><a class="code" href="a00253.html#91aeb358370adab22b42ca7fc902caf5">00031</a> <span class="preprocessor"></span><span class="preprocessor"># define QOLYESTER_DAEMON_NET_ROUTE_HH 1</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor"># include &lt;ext/hash_set&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor"># include "<a class="code" href="a00222.html" title="IP address declarations.">net/ipaddress.hh</a>"</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">namespace </span>olsr {
<a name="l00037"></a>00037 
<a name="l00038"></a>00038   <span class="keyword">namespace </span>net {
<a name="l00039"></a>00039 
<a name="l00047"></a><a class="code" href="a00072.html">00047</a>     <span class="keyword">class </span><a class="code" href="a00072.html" title="Local route class.">LocalRoute</a> {
<a name="l00048"></a><a class="code" href="a00072.html#62233fe5c16b6143a223f4548514992d">00048</a>       <span class="keyword">typedef</span> <a class="code" href="a00072.html" title="Local route class.">LocalRoute</a>        <a class="code" href="a00072.html" title="Local route class.">This</a>;
<a name="l00056"></a>00056       <span class="keyword">explicit</span> <span class="keyword">inline</span> <a class="code" href="a00072.html#2bff801941b0859fe5bd957fbc6b9b5e">LocalRoute</a>();
<a name="l00057"></a>00057     <span class="keyword">public</span>:
<a name="l00064"></a>00064       <span class="keyword">inline</span> <a class="code" href="a00072.html#2bff801941b0859fe5bd957fbc6b9b5e">LocalRoute</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; d, <span class="keywordtype">unsigned</span> p, <span class="keyword">const</span> <a class="code" href="a00140.html">ifaceinfo_t</a>&amp; i);
<a name="l00065"></a>00065 
<a name="l00066"></a>00066       <span class="keyword">inline</span> <a class="code" href="a00072.html#2bff801941b0859fe5bd957fbc6b9b5e">LocalRoute</a>(<span class="keyword">const</span> <a class="code" href="a00072.html" title="Local route class.">This</a>&amp; other);
<a name="l00071"></a><a class="code" href="a00072.html#61b6c0b43dda9e1e5eb33d75218a5afa">00071</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00072.html#61b6c0b43dda9e1e5eb33d75218a5afa">dest_addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00072.html#e42ff63f6ca43ce9bb3efccadd3891b5" title="Destination address.">_d_addr</a>; }
<a name="l00072"></a>00072 
<a name="l00077"></a><a class="code" href="a00072.html#7bff5cb16cd8074e14403678d220b827">00077</a>       <span class="keywordtype">unsigned</span>          <a class="code" href="a00072.html#7bff5cb16cd8074e14403678d220b827">prefix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00072.html#3fffb6e360c8058fc9203967f34ae0ce" title="Prefix length.">_prefix</a>; }
<a name="l00078"></a>00078 
<a name="l00083"></a><a class="code" href="a00072.html#702d0134fa380675e844de83e01bd168">00083</a>       <span class="keyword">const</span> <a class="code" href="a00140.html">ifaceinfo_t</a>&amp;        <a class="code" href="a00072.html#702d0134fa380675e844de83e01bd168">interface_info</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>; }
<a name="l00084"></a>00084 
<a name="l00090"></a><a class="code" href="a00072.html#9a292c333b39dd4a3149dc7b876552b9">00090</a>       <span class="keywordtype">bool</span>                      <a class="code" href="a00072.html#9a292c333b39dd4a3149dc7b876552b9">operator==</a>(<span class="keyword">const</span> <a class="code" href="a00072.html" title="Local route class.">This</a>&amp; rhs)<span class="keyword"> const </span>{
<a name="l00091"></a>00091         <span class="keywordflow">return</span> <a class="code" href="a00072.html#e42ff63f6ca43ce9bb3efccadd3891b5" title="Destination address.">_d_addr</a> == rhs.<a class="code" href="a00072.html#e42ff63f6ca43ce9bb3efccadd3891b5" title="Destination address.">_d_addr</a> &amp;&amp;
<a name="l00092"></a>00092           <a class="code" href="a00072.html#3fffb6e360c8058fc9203967f34ae0ce" title="Prefix length.">_prefix</a> == rhs.<a class="code" href="a00072.html#3fffb6e360c8058fc9203967f34ae0ce" title="Prefix length.">_prefix</a> &amp;&amp;
<a name="l00093"></a>00093           (<a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>.<a class="code" href="a00140.html#3d36f3b03d0137d9d5f28322361aaa30">index</a>() == rhs.<a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>.<a class="code" href="a00140.html#3d36f3b03d0137d9d5f28322361aaa30">index</a>() ||
<a name="l00094"></a>00094            <a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>.<a class="code" href="a00140.html#3d36f3b03d0137d9d5f28322361aaa30">index</a>() == 0 ||
<a name="l00095"></a>00095            rhs.<a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>.<a class="code" href="a00140.html#3d36f3b03d0137d9d5f28322361aaa30">index</a>() == 0);
<a name="l00096"></a>00096       }
<a name="l00097"></a>00097 
<a name="l00106"></a>00106       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00072.html#62233fe5c16b6143a223f4548514992d">This</a>&amp; <a class="code" href="a00072.html#c35d632f9c936c941ed33a8db27e97a6">make_key</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; d, <span class="keywordtype">unsigned</span> p);
<a name="l00107"></a>00107     <span class="keyword">private</span>:
<a name="l00108"></a><a class="code" href="a00072.html#e42ff63f6ca43ce9bb3efccadd3891b5">00108</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>           <a class="code" href="a00072.html#e42ff63f6ca43ce9bb3efccadd3891b5" title="Destination address.">_d_addr</a>; 
<a name="l00109"></a><a class="code" href="a00072.html#3fffb6e360c8058fc9203967f34ae0ce">00109</a>       <span class="keyword">const</span> <span class="keywordtype">unsigned</span>            <a class="code" href="a00072.html#3fffb6e360c8058fc9203967f34ae0ce" title="Prefix length.">_prefix</a>; 
<a name="l00110"></a><a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda">00110</a>       <span class="keyword">const</span> <a class="code" href="a00140.html">ifaceinfo_t</a>         <a class="code" href="a00072.html#999b585393812a84950f75c13a2ccbda" title="Output interface information.">_info</a>;  
<a name="l00111"></a>00111 
<a name="l00112"></a><a class="code" href="a00072.html#a81c8466b8b2d86b962bdea387d03743">00112</a>       <span class="keyword">static</span> <a class="code" href="a00072.html" title="Local route class.">This</a>               <a class="code" href="a00072.html#a81c8466b8b2d86b962bdea387d03743" title="Static instance for key building.">_dummy_for_find</a>; 
<a name="l00113"></a>00113     };
<a name="l00114"></a>00114 
<a name="l00118"></a><a class="code" href="a00141.html">00118</a>     <span class="keyword">class </span><a class="code" href="a00141.html">RemoteRoute</a> {
<a name="l00119"></a><a class="code" href="a00141.html#78f74b23723cc03cd14bb2f77055c629">00119</a>       <span class="keyword">typedef</span> <a class="code" href="a00141.html">RemoteRoute</a>       <a class="code" href="a00141.html">This</a>;
<a name="l00120"></a>00120       <span class="keyword">explicit</span> <a class="code" href="a00141.html#32933da7972eb62f95b1da1eb06d044f">RemoteRoute</a>();
<a name="l00121"></a>00121     <span class="keyword">public</span>:
<a name="l00122"></a>00122       <span class="keyword">inline</span> <a class="code" href="a00141.html#32933da7972eb62f95b1da1eb06d044f">RemoteRoute</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; d, <span class="keywordtype">unsigned</span> p, <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; n);
<a name="l00123"></a>00123       <span class="keyword">inline</span> <a class="code" href="a00141.html#32933da7972eb62f95b1da1eb06d044f">RemoteRoute</a>(<span class="keyword">const</span> <a class="code" href="a00141.html">This</a>&amp; other);
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="a00141.html#83d651b7b0b6f7749f9c63b45b6c2fb5">00125</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00141.html#83d651b7b0b6f7749f9c63b45b6c2fb5">dest_addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00141.html#6b66ff1bdf9c276bf579228156a538bf">_d_addr</a>; }
<a name="l00126"></a><a class="code" href="a00141.html#d38ccd410416de663d5b6634f9aef8a8">00126</a>       <span class="keywordtype">unsigned</span>          <a class="code" href="a00141.html#d38ccd410416de663d5b6634f9aef8a8">prefix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00141.html#1042c67171d29cf9faf96557780fb634">_prefix</a>; }
<a name="l00127"></a><a class="code" href="a00141.html#d12d64d61b59499f1486f27bc7b01753">00127</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00141.html#d12d64d61b59499f1486f27bc7b01753">next_addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a>; }
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="a00141.html#67ead637be44981606f22a26e5eaa285">00129</a>       <span class="keywordtype">bool</span>                      <a class="code" href="a00141.html#67ead637be44981606f22a26e5eaa285">operator==</a>(<span class="keyword">const</span> <a class="code" href="a00141.html">This</a>&amp; rhs)<span class="keyword"> const </span>{
<a name="l00130"></a>00130         <span class="keywordflow">return</span> <a class="code" href="a00141.html#6b66ff1bdf9c276bf579228156a538bf">_d_addr</a> == rhs.<a class="code" href="a00141.html#6b66ff1bdf9c276bf579228156a538bf">_d_addr</a> &amp;&amp;
<a name="l00131"></a>00131           <a class="code" href="a00141.html#1042c67171d29cf9faf96557780fb634">_prefix</a> == rhs.<a class="code" href="a00141.html#1042c67171d29cf9faf96557780fb634">_prefix</a> &amp;&amp;
<a name="l00132"></a>00132           (<a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a> == rhs.<a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a> ||
<a name="l00133"></a>00133            <a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a> == <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>() ||
<a name="l00134"></a>00134            rhs.<a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a> == <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>());
<a name="l00135"></a>00135       }
<a name="l00136"></a>00136 
<a name="l00137"></a>00137       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00141.html#78f74b23723cc03cd14bb2f77055c629">This</a>&amp; <a class="code" href="a00141.html#e15549b2a8e495766092cbc068967bf2">make_key</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; d, <span class="keywordtype">unsigned</span> p);
<a name="l00138"></a>00138     <span class="keyword">private</span>:
<a name="l00139"></a><a class="code" href="a00141.html#6b66ff1bdf9c276bf579228156a538bf">00139</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00141.html#6b66ff1bdf9c276bf579228156a538bf">_d_addr</a>;
<a name="l00140"></a><a class="code" href="a00141.html#1042c67171d29cf9faf96557780fb634">00140</a>       <span class="keyword">const</span> <span class="keywordtype">unsigned</span>    <a class="code" href="a00141.html#1042c67171d29cf9faf96557780fb634">_prefix</a>;
<a name="l00141"></a><a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">00141</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00141.html#d715a3049cb5268b6969e08672388198">_n_addr</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a><a class="code" href="a00141.html#f8986971798b8dabb516e97765c00c27">00143</a>       <span class="keyword">static</span> <a class="code" href="a00141.html">This</a>       <a class="code" href="a00141.html#f8986971798b8dabb516e97765c00c27">_dummy_for_find</a>;
<a name="l00144"></a>00144     };
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="a00037.html">00146</a>     <span class="keyword">struct </span><a class="code" href="a00037.html">hash_LocalRoute</a> {
<a name="l00147"></a><a class="code" href="a00037.html#b11fd300fbeb4b3f49dfbc44edb0821f">00147</a>       ::size_t <a class="code" href="a00037.html#b11fd300fbeb4b3f49dfbc44edb0821f">operator()</a>(<span class="keyword">const</span> <a class="code" href="a00072.html" title="Local route class.">LocalRoute</a>&amp; r)<span class="keyword"> const </span>{
<a name="l00148"></a>00148         <span class="keywordflow">return</span> std::hash&lt;address_t&gt;()(r.<a class="code" href="a00072.html#61b6c0b43dda9e1e5eb33d75218a5afa">dest_addr</a>());
<a name="l00149"></a>00149       }
<a name="l00150"></a>00150     };
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="a00038.html">00152</a>     <span class="keyword">struct </span><a class="code" href="a00038.html">hash_RemoteRoute</a> {
<a name="l00153"></a><a class="code" href="a00038.html#264bf8e57887dea305115775cf17007f">00153</a>       ::size_t <a class="code" href="a00038.html#264bf8e57887dea305115775cf17007f">operator()</a>(<span class="keyword">const</span> <a class="code" href="a00141.html">RemoteRoute</a>&amp; r)<span class="keyword"> const </span>{
<a name="l00154"></a>00154         <span class="keywordflow">return</span> std::hash&lt;address_t&gt;()(r.<a class="code" href="a00141.html#83d651b7b0b6f7749f9c63b45b6c2fb5">dest_addr</a>());
<a name="l00155"></a>00155       }
<a name="l00156"></a>00156     };
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   } <span class="comment">// namespace net;</span>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 } <span class="comment">// namespace olsr</span>
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="preprocessor"># include "<a class="code" href="a00254.html">route.hxx</a>"</span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="preprocessor">#endif // ! QOLYESTER_DAEMON_NET_ROUTE_HH</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Feb 12 20:45:36 2009 for Qolyester daemon by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
