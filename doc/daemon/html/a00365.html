<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Qolyester daemon: neighbors.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>neighbors.hh</h1><a href="a00242.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (C) 2003-2006 Laboratoire de Recherche en Informatique</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="comment">// This file is part of Qolyester.</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="comment">// Qolyester is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">// modify it under the terms of the GNU General Public License</span>
<a name="l00007"></a>00007 <span class="comment">// as published by the Free Software Foundation; either version 2</span>
<a name="l00008"></a>00008 <span class="comment">// of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">// Qolyester is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment">// GNU General Public License for more details.</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">// along with this program; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor,</span>
<a name="l00018"></a>00018 <span class="comment">// Boston, MA  02110-1301, USA.</span>
<a name="l00019"></a>00019 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor"># include "<a class="code" href="a00232.html" title="General abstract message declarations.">msg/message.hh</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef QOLYESTER_DAEMON_SET_NEIGHBORS_HH</span>
<a name="l00031"></a><a class="code" href="a00242.html#33012ee7c44771c6129c045452f9f97f">00031</a> <span class="preprocessor"></span><span class="preprocessor"># define QOLYESTER_DAEMON_SET_NEIGHBORS_HH 1</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor"># include "config.hh"</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor"># include "<a class="code" href="a00192.html">cst/constants.hh</a>"</span>
<a name="l00036"></a>00036 <span class="preprocessor"># include "<a class="code" href="a00222.html" title="IP address declarations.">net/ipaddress.hh</a>"</span>
<a name="l00037"></a>00037 <span class="preprocessor"># include "<a class="code" href="a00265.html" title="The declarations of the events and the scheduler.">sch/scheduler.hh</a>"</span>
<a name="l00038"></a>00038 <span class="preprocessor"># include "<a class="code" href="a00268.html" title="Simple generic set definitions.">utl/set.hh</a>"</span>
<a name="l00039"></a>00039 <span class="preprocessor"># include "<a class="code" href="a00267.html" title="Sequence number class declarations.">utl/seqnum.hh</a>"</span>
<a name="l00040"></a>00040 <span class="preprocessor"># include "<a class="code" href="a00271.html">utl/stampable.hh</a>"</span>
<a name="l00041"></a>00041 <span class="preprocessor"># include "<a class="code" href="a00277.html" title="TimeVal class definitions.">utl/timeval.hh</a>"</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>olsr {
<a name="l00044"></a>00044 
<a name="l00045"></a>00045   <span class="keyword">namespace </span>sch {
<a name="l00046"></a>00046 
<a name="l00047"></a>00047     <span class="keyword">class </span>StatePrinter;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049   }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051   <span class="keyword">namespace </span>set {
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="comment">//************************************</span>
<a name="l00054"></a>00054     <span class="comment">//*  The Link class</span>
<a name="l00055"></a>00055     <span class="comment">//*</span>
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="a00070.html">00057</a>     <span class="keyword">class </span><a class="code" href="a00070.html">Link</a> : <span class="keyword">public</span> utl::MultiStampable&lt;1, address_t&gt; {
<a name="l00058"></a><a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">00058</a>       <span class="keyword">typedef</span> <a class="code" href="a00070.html">Link</a>                              <a class="code" href="a00070.html">This</a>;
<a name="l00059"></a><a class="code" href="a00070.html#597761f0e769ff8c9cd634a3cf0f0b51">00059</a>       <span class="keyword">typedef</span> <a class="code" href="a00088.html">utl::MultiStampable&lt;1, address_t&gt;</a> <a class="code" href="a00088.html">Super</a>;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061       <span class="keyword">explicit</span> <a class="code" href="a00070.html#cbd2c25cde88586a3de641ce3f01c87f">Link</a>();
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>      <span class="keyword">class </span>LinkQuality {
<a name="l00065"></a>00065         <span class="keyword">typedef</span> LinkQuality     <a class="code" href="a00070.html">This</a>;
<a name="l00066"></a>00066       <span class="keyword">public</span>:
<a name="l00067"></a>00067         <span class="keyword">inline</span> LinkQuality(<a class="code" href="a00070.html">Link</a>&amp; i, <span class="keywordtype">float</span> v = cst::hyst_scaling);
<a name="l00068"></a>00068         <span class="keyword">virtual</span> ~LinkQuality() {}
<a name="l00069"></a>00069         operator float()<span class="keyword"> const </span>{
<a name="l00070"></a>00070           <span class="keywordflow">return</span> value_;
<a name="l00071"></a>00071         }
<a name="l00072"></a>00072         <span class="keyword">inline</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp;    operator++();
<a name="l00073"></a>00073         <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>    operator++(<span class="keywordtype">int</span>) {
<a name="l00074"></a>00074           <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>  tmp(*<span class="keyword">this</span>);
<a name="l00075"></a>00075           ++*<span class="keyword">this</span>;
<a name="l00076"></a>00076           <span class="keywordflow">return</span> tmp;
<a name="l00077"></a>00077         }
<a name="l00078"></a>00078         <span class="keyword">inline</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp;    operator--();
<a name="l00079"></a>00079         <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>    operator--(<span class="keywordtype">int</span>) {
<a name="l00080"></a>00080           <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>  tmp(*<span class="keyword">this</span>);
<a name="l00081"></a>00081           --*<span class="keyword">this</span>;
<a name="l00082"></a>00082           <span class="keywordflow">return</span> tmp;
<a name="l00083"></a>00083         }
<a name="l00084"></a>00084         <span class="keywordtype">void</span>    expire() {
<a name="l00085"></a>00085           ++expired_;
<a name="l00086"></a>00086         }
<a name="l00087"></a>00087         <span class="keywordtype">void</span>    lost(<span class="keywordtype">unsigned</span> n) {
<a name="l00088"></a>00088           <span class="keywordflow">if</span> (n &gt; expired_ || n == 0)
<a name="l00089"></a>00089             blocked_ = <span class="keyword">false</span>;
<a name="l00090"></a>00090           <span class="keywordflow">else</span>
<a name="l00091"></a>00091             blocked_ = <span class="keyword">true</span>;
<a name="l00092"></a>00092           expired_ = 0;
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094       <span class="keyword">private</span>:
<a name="l00095"></a>00095         <span class="keyword">inline</span> <span class="keywordtype">void</span>     update();
<a name="l00096"></a>00096 
<a name="l00097"></a>00097         <span class="keywordtype">float</span>           value_;
<a name="l00098"></a>00098         <a class="code" href="a00070.html#cbd2c25cde88586a3de641ce3f01c87f">Link</a>&amp;           instance_;
<a name="l00099"></a>00099         <span class="keywordtype">unsigned</span>        expired_;
<a name="l00100"></a>00100         <span class="keywordtype">bool</span>            blocked_;
<a name="l00101"></a>00101       };
<a name="l00102"></a>00102     <span class="keyword">public</span>:
<a name="l00103"></a>00103       <span class="keyword">inline</span> <a class="code" href="a00070.html#cbd2c25cde88586a3de641ce3f01c87f">Link</a>(<span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; l, <span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; r, <span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; m,
<a name="l00104"></a>00104                   <span class="keyword">const</span> <a class="code" href="a00289.html#74c37391ca356ed52ae5b0260f295f1a">timeval_t</a>&amp; v, <span class="keyword">const</span> <a class="code" href="a00289.html#acecb5de2c3dc5055ebaed28438c7ad3">seqnum_t</a>&amp; s, <span class="keyword">const</span> <a class="code" href="a00289.html#74c37391ca356ed52ae5b0260f295f1a">timeval_t</a>&amp; ht);
<a name="l00105"></a>00105 <span class="preprocessor"># else // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>    <span class="keyword">public</span>:
<a name="l00107"></a>00107       <span class="keyword">inline</span> <a class="code" href="a00070.html#cbd2c25cde88586a3de641ce3f01c87f">Link</a>(<span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; l, <span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; r, <span class="keyword">const</span> <a class="code" href="a00289.html#f958c3a3e3bd5bfe7b4c2e227c15611b">address_t</a>&amp; m,
<a name="l00108"></a>00108                   <span class="keyword">const</span> <a class="code" href="a00289.html#74c37391ca356ed52ae5b0260f295f1a">timeval_t</a>&amp; v);
<a name="l00109"></a>00109 <span class="preprocessor"># endif</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>
<a name="l00111"></a>00111       <span class="keyword">inline</span> <a class="code" href="a00070.html#cbd2c25cde88586a3de641ce3f01c87f">Link</a>(<span class="keyword">const</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp; other);
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="a00070.html#0cb2505159880ea1d0ad8607b8dda441">00113</a>       <span class="keyword">virtual</span> <a class="code" href="a00070.html#0cb2505159880ea1d0ad8607b8dda441">~Link</a>() {}
<a name="l00114"></a>00114       <span class="comment">// Modifiers</span>
<a name="l00115"></a><a class="code" href="a00070.html#cbf81e20b326762ccb4b9e45763b6881">00115</a>       <span class="keywordtype">void</span>      <a class="code" href="a00070.html#cbf81e20b326762ccb4b9e45763b6881">set_asymtime</a>(<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { <a class="code" href="a00070.html#3130a47c1194e6bc7ea7464460e0873b">asymtime_</a> = t; }
<a name="l00116"></a><a class="code" href="a00070.html#2e61d6ad3e13c52a159454474ebe3fec">00116</a>       <span class="keywordtype">void</span>      <a class="code" href="a00070.html#2e61d6ad3e13c52a159454474ebe3fec">set_symtime</a> (<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { <a class="code" href="a00070.html#25a585b7f81a91e75d90912f8a082957">symtime_</a>  = t; }
<a name="l00117"></a><a class="code" href="a00070.html#ba7786bfd3bfe3dbc5bcd0bbc575b10e">00117</a>       <span class="keywordtype">void</span>      <a class="code" href="a00070.html#ba7786bfd3bfe3dbc5bcd0bbc575b10e">set_time</a>    (<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { <a class="code" href="a00070.html#1fb4a9c33558de8c72d12fcda0a549e8">time_</a>     = t; }
<a name="l00118"></a>00118 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span>      <span class="keywordtype">void</span>      set_losttime(<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { losttime_ = t; }
<a name="l00120"></a>00120       <span class="keywordtype">void</span>      set_nexttime(<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { nexttime_ = t; }
<a name="l00121"></a>00121       <span class="keywordtype">void</span>      set_htime   (<span class="keyword">const</span> <a class="code" href="a00289.html#74c37391ca356ed52ae5b0260f295f1a">timeval_t</a>&amp; t) { htime_    = t; }
<a name="l00122"></a>00122       <span class="keywordtype">void</span>      set_pending (<span class="keyword">const</span> <span class="keywordtype">bool</span> p)       { pending_  = p; }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124       <span class="keyword">inline</span> <span class="keywordtype">void</span>       set_last_seqnum(<span class="keyword">const</span> <a class="code" href="a00289.html#acecb5de2c3dc5055ebaed28438c7ad3">seqnum_t</a>&amp; s);
<a name="l00125"></a>00125 <span class="preprocessor"># endif // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>
<a name="l00127"></a>00127       <span class="comment">// Accessors</span>
<a name="l00128"></a><a class="code" href="a00070.html#f4554f4366c75193f50f5fa9e5132ccb">00128</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00070.html#f4554f4366c75193f50f5fa9e5132ccb">local_addr</a>()<span class="keyword">    const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#89006037639d1e46660ec5d60a01e495">l_addr_</a>; }
<a name="l00129"></a><a class="code" href="a00070.html#5ed030cf7baa3227ad431f0fd9823fa6">00129</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00070.html#5ed030cf7baa3227ad431f0fd9823fa6">remote_addr</a>()<span class="keyword">   const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#fa77717d6c8dcc53f4eefaede07b2ce3">r_addr_</a>; }
<a name="l00130"></a><a class="code" href="a00070.html#4a978b9f41842b2cb779daf465ca5e11">00130</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00070.html#4a978b9f41842b2cb779daf465ca5e11">main_addr</a>()<span class="keyword">     const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#4620fff5ae199ef52175581b28f88a69">m_addr_</a>; }
<a name="l00131"></a><a class="code" href="a00070.html#26e471eb40baa5aaa9342ae3ac4c1dfd">00131</a>       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  <a class="code" href="a00070.html#26e471eb40baa5aaa9342ae3ac4c1dfd">asymtime</a>()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#3130a47c1194e6bc7ea7464460e0873b">asymtime_</a>; }
<a name="l00132"></a><a class="code" href="a00070.html#65f7fdb331e57e5d16f5ac6240d2712d">00132</a>       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  <a class="code" href="a00070.html#65f7fdb331e57e5d16f5ac6240d2712d">symtime</a>()<span class="keyword">       const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#25a585b7f81a91e75d90912f8a082957">symtime_</a>; }
<a name="l00133"></a><a class="code" href="a00070.html#c130db66ab31f6302f3e07f6155b1889">00133</a>       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  <a class="code" href="a00070.html#c130db66ab31f6302f3e07f6155b1889">time</a>()<span class="keyword">          const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#1fb4a9c33558de8c72d12fcda0a549e8">time_</a>; }
<a name="l00134"></a>00134 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>      <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  losttime()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> losttime_; }
<a name="l00136"></a>00136       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  nexttime()<span class="keyword">      const </span>{ <span class="keywordflow">return</span> nexttime_; }
<a name="l00137"></a>00137       <span class="keyword">const</span> <a class="code" href="a00289.html#74c37391ca356ed52ae5b0260f295f1a">timeval_t</a>&amp;  htime()<span class="keyword">         const </span>{ <span class="keywordflow">return</span> htime_; }
<a name="l00138"></a>00138       <span class="keyword">const</span> <span class="keywordtype">bool</span>        pending()<span class="keyword">       const </span>{ <span class="keywordflow">return</span> pending_; }
<a name="l00139"></a>00139 
<a name="l00140"></a>00140       <span class="keyword">const</span> LinkQuality&amp;        quality()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> quality_; }
<a name="l00141"></a>00141       LinkQuality&amp;              quality() { <span class="keywordflow">return</span> quality_; }
<a name="l00142"></a>00142 <span class="preprocessor"># endif // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144       <span class="comment">// Simple validity checker</span>
<a name="l00145"></a>00145       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00070.html#a4984fa0bde3fba1b7aa345467bf9450">is_valid</a>() <span class="keyword">const</span>;
<a name="l00146"></a>00146       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00070.html#396a28a3960e0aa0e52e1bf7b2702aea">is_sym</a>() <span class="keyword">const</span>;
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="a00070.html#58177d3efe3578cee11f1667709e5841">00148</a>       <span class="keywordtype">bool</span>      <a class="code" href="a00070.html#58177d3efe3578cee11f1667709e5841">was_sym</a>()<span class="keyword">     const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00070.html#7273bc9ed271489889dd5b0d8f6d28e4">was_sym_</a>; }
<a name="l00149"></a><a class="code" href="a00070.html#85724a55045704e7d9aaa04e9a9ae1c3">00149</a>       <span class="keywordtype">void</span>      <a class="code" href="a00070.html#85724a55045704e7d9aaa04e9a9ae1c3">set_was_sym</a>(<span class="keywordtype">bool</span> ws) { <a class="code" href="a00070.html#7273bc9ed271489889dd5b0d8f6d28e4">was_sym_</a> = ws; }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       <span class="comment">// Plain comparison operator</span>
<a name="l00152"></a>00152       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00070.html#3ca8df70a027d425e2c0387133779af5">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp; rhs) <span class="keyword">const</span>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154       <span class="comment">// Utility static method for the creation of dummy objects to search sets</span>
<a name="l00155"></a>00155       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp; <a class="code" href="a00070.html#88e9aea357945edcadc1c61e7fbeef39">make_key</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; local,
<a name="l00156"></a>00156                                          <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; remote);
<a name="l00157"></a>00157       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00070.html#653cd0e4d8a4f08c41266b6095e78f82">This</a>&amp; <a class="code" href="a00070.html#7624cdb3c075cc76cd3722eea562a68d">make_key_local</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; local);
<a name="l00158"></a>00158     <span class="keyword">private</span>:
<a name="l00159"></a><a class="code" href="a00070.html#89006037639d1e46660ec5d60a01e495">00159</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00070.html#89006037639d1e46660ec5d60a01e495">l_addr_</a>;
<a name="l00160"></a><a class="code" href="a00070.html#fa77717d6c8dcc53f4eefaede07b2ce3">00160</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00070.html#fa77717d6c8dcc53f4eefaede07b2ce3">r_addr_</a>;
<a name="l00161"></a><a class="code" href="a00070.html#4620fff5ae199ef52175581b28f88a69">00161</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00070.html#4620fff5ae199ef52175581b28f88a69">m_addr_</a>;
<a name="l00162"></a><a class="code" href="a00070.html#3130a47c1194e6bc7ea7464460e0873b">00162</a>       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         <a class="code" href="a00070.html#3130a47c1194e6bc7ea7464460e0873b">asymtime_</a>;
<a name="l00163"></a><a class="code" href="a00070.html#25a585b7f81a91e75d90912f8a082957">00163</a>       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         <a class="code" href="a00070.html#25a585b7f81a91e75d90912f8a082957">symtime_</a>;
<a name="l00164"></a><a class="code" href="a00070.html#1fb4a9c33558de8c72d12fcda0a549e8">00164</a>       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         <a class="code" href="a00070.html#1fb4a9c33558de8c72d12fcda0a549e8">time_</a>;
<a name="l00165"></a><a class="code" href="a00070.html#7273bc9ed271489889dd5b0d8f6d28e4">00165</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00070.html#7273bc9ed271489889dd5b0d8f6d28e4">was_sym_</a>;
<a name="l00166"></a>00166 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>      <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         losttime_;
<a name="l00168"></a>00168       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         nexttime_;
<a name="l00169"></a>00169       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         htime_;
<a name="l00170"></a>00170       <span class="keywordtype">bool</span>              pending_;
<a name="l00171"></a>00171       LinkQuality       quality_;
<a name="l00172"></a>00172       <a class="code" href="a00151.html">seqnum_t</a>          last_seqnum_;
<a name="l00173"></a>00173 <span class="preprocessor"># endif // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span>
<a name="l00175"></a>00175       <span class="comment">// This is used for dummy objects used in set searching</span>
<a name="l00176"></a><a class="code" href="a00070.html#d64a7ecd1b87a94f9610cfd330ae6fa2">00176</a>       <span class="keyword">static</span> <a class="code" href="a00070.html">This</a>       <a class="code" href="a00070.html#d64a7ecd1b87a94f9610cfd330ae6fa2">dummy_for_find_</a>;
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="a00070.html#c3bfe10973c89760a501609f3767a172">00178</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00158.html">sch::StatePrinter</a>;
<a name="l00179"></a>00179     };
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <span class="comment">//********************************</span>
<a name="l00182"></a>00182     <span class="comment">//*  The Neighbor class</span>
<a name="l00183"></a>00183     <span class="comment">//*</span>
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="comment">// The following block of declarations is only to provide Neighbor</span>
<a name="l00186"></a>00186     <span class="comment">// with nested type definitions that are to occur in</span>
<a name="l00187"></a>00187     <span class="comment">// CoherenceProxy later in the code.  This is mainly to avoid</span>
<a name="l00188"></a>00188     <span class="comment">// having to declare Neighbor after CoherenceProxy and is</span>
<a name="l00189"></a>00189     <span class="comment">// obviously the best way to deal with type interdependance.</span>
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <span class="keyword">class </span><a class="code" href="a00013.html">CoherenceProxy</a>;
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="a00303.html">00193</a>     <span class="keyword">namespace </span>upd {
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="a00071.html">00195</a>       <span class="keyword">class </span><a class="code" href="a00071.html">LinkUpdater</a> {
<a name="l00196"></a><a class="code" href="a00071.html#bad3394f2d93719bdb1aa254c1a697f7">00196</a>         <span class="keyword">typedef</span> <a class="code" href="a00071.html">LinkUpdater</a>                     <a class="code" href="a00071.html">This</a>;
<a name="l00197"></a><a class="code" href="a00071.html#cec581f092ed00813a38ee18c9f653d8">00197</a>         <span class="keyword">typedef</span> <a class="code" href="a00013.html">CoherenceProxy</a>                  <a class="code" href="a00013.html">Set</a>;
<a name="l00198"></a><a class="code" href="a00071.html#2d64efed25a1887b494b0d8e889c2c91">00198</a>         <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;Link&gt;</a>            <a class="code" href="a00184.html">elem_t</a>;
<a name="l00199"></a><a class="code" href="a00071.html#7cb3974fb61b279ba72d3394ad822651">00199</a>         <span class="keyword">typedef</span> std::set&lt;elem_t&gt;::iterator      <a class="code" href="a00071.html#7cb3974fb61b279ba72d3394ad822651">Iter</a>;
<a name="l00200"></a><a class="code" href="a00071.html#6f544b936f824747cf9df57f82b35ba8">00200</a>         <span class="keyword">typedef</span> <a class="code" href="a00185.html">sch::UpdateEvent&lt;This&gt;</a>          <a class="code" href="a00185.html">updater_t</a>;
<a name="l00201"></a>00201       <span class="keyword">public</span>:
<a name="l00202"></a><a class="code" href="a00071.html#0df038930b56a5577d09fb40512aba6b">00202</a>         <a class="code" href="a00071.html#0df038930b56a5577d09fb40512aba6b">LinkUpdater</a>(<a class="code" href="a00013.html">Set</a>&amp; s, <span class="keyword">const</span> <a class="code" href="a00071.html#7cb3974fb61b279ba72d3394ad822651">Iter</a>&amp; i)
<a name="l00203"></a>00203           : <a class="code" href="a00071.html#079edc1fff414e760ba64e3d5ae917e1">set_</a>(s),
<a name="l00204"></a>00204             <a class="code" href="a00071.html#1c5676cf537b82780917d89966596815">iter_</a>(i)
<a name="l00205"></a>00205         {}
<a name="l00206"></a>00206         <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code" href="a00071.html#25219eeabf8c953959548d7e2bb08586">operator()</a>();
<a name="l00207"></a><a class="code" href="a00071.html#ec1096837ce2ad5f8a17b684eeafdfec">00207</a>         <span class="keyword">static</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>        <a class="code" href="a00071.html#ec1096837ce2ad5f8a17b684eeafdfec">min_time</a>(<span class="keyword">const</span> <a class="code" href="a00070.html">Link</a>&amp; l) {
<a name="l00208"></a>00208           <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>     <a class="code" href="a00071.html#ec1096837ce2ad5f8a17b684eeafdfec">min_time</a>(0);
<a name="l00209"></a>00209           <span class="keywordflow">if</span> (!l.<a class="code" href="a00070.html#c130db66ab31f6302f3e07f6155b1889">time</a>().<a class="code" href="a00170.html#8ad17ad0c2e467bf604bfbd9c02e7468">is_past</a>())
<a name="l00210"></a>00210             min_time = l.<a class="code" href="a00070.html#c130db66ab31f6302f3e07f6155b1889">time</a>();
<a name="l00211"></a>00211           <span class="keywordflow">if</span> (!l.<a class="code" href="a00070.html#26e471eb40baa5aaa9342ae3ac4c1dfd">asymtime</a>().<a class="code" href="a00170.html#8ad17ad0c2e467bf604bfbd9c02e7468">is_past</a>() &amp;&amp;
<a name="l00212"></a>00212               (min_time == 0 ||
<a name="l00213"></a>00213                l.<a class="code" href="a00070.html#26e471eb40baa5aaa9342ae3ac4c1dfd">asymtime</a>() &lt; min_time))
<a name="l00214"></a>00214             min_time = l.<a class="code" href="a00070.html#26e471eb40baa5aaa9342ae3ac4c1dfd">asymtime</a>();
<a name="l00215"></a>00215           <span class="keywordflow">if</span> (!l.<a class="code" href="a00070.html#65f7fdb331e57e5d16f5ac6240d2712d">symtime</a>().<a class="code" href="a00170.html#8ad17ad0c2e467bf604bfbd9c02e7468">is_past</a>() &amp;&amp;
<a name="l00216"></a>00216               (min_time == 0 ||
<a name="l00217"></a>00217                l.<a class="code" href="a00070.html#65f7fdb331e57e5d16f5ac6240d2712d">symtime</a>() &lt; min_time))
<a name="l00218"></a>00218             min_time = l.<a class="code" href="a00070.html#65f7fdb331e57e5d16f5ac6240d2712d">symtime</a>();
<a name="l00219"></a>00219 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (!l.losttime().is_past() &amp;&amp;
<a name="l00221"></a>00221               (min_time == 0 ||
<a name="l00222"></a>00222                l.losttime() &lt; min_time))
<a name="l00223"></a>00223             min_time = l.losttime();
<a name="l00224"></a>00224           <span class="keywordflow">if</span> (!l.nexttime().is_past() &amp;&amp;
<a name="l00225"></a>00225               (min_time == 0 ||
<a name="l00226"></a>00226                l.nexttime() &lt; min_time))
<a name="l00227"></a>00227             min_time = l.nexttime();
<a name="l00228"></a>00228 <span class="preprocessor"># endif // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>          <span class="keywordflow">return</span> min_time;
<a name="l00230"></a>00230         }
<a name="l00231"></a>00231       <span class="keyword">private</span>:
<a name="l00232"></a><a class="code" href="a00071.html#079edc1fff414e760ba64e3d5ae917e1">00232</a>         <a class="code" href="a00013.html">Set</a>&amp;    <a class="code" href="a00071.html#079edc1fff414e760ba64e3d5ae917e1">set_</a>;
<a name="l00233"></a><a class="code" href="a00071.html#1c5676cf537b82780917d89966596815">00233</a>         <a class="code" href="a00071.html#7cb3974fb61b279ba72d3394ad822651">Iter</a>    <a class="code" href="a00071.html#1c5676cf537b82780917d89966596815">iter_</a>;
<a name="l00234"></a>00234       };
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     } <span class="comment">// namespace upd</span>
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="a00093.html">00238</a>     <span class="keyword">class </span><a class="code" href="a00093.html">Neighbor</a> : <span class="keyword">public</span> utl::MultiStampable&lt;1, address_t&gt; {
<a name="l00239"></a><a class="code" href="a00093.html#d35bdb67ee466fe770f6f434e7e132fa">00239</a>       <span class="keyword">typedef</span> <a class="code" href="a00093.html">Neighbor</a>                          <a class="code" href="a00093.html">This</a>;
<a name="l00240"></a><a class="code" href="a00093.html#f76ca2ec279436b93861230d7c2a2eb6">00240</a>       <span class="keyword">typedef</span> <a class="code" href="a00088.html">utl::MultiStampable&lt;1, address_t&gt;</a> <a class="code" href="a00088.html">Super</a>;
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="a00093.html#2348ce31d37b0488d43ca699850127dd">00242</a>       <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;Link&gt;</a>              <a class="code" href="a00184.html">ulink_t</a>;
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="a00094.html">00244</a>       <span class="keyword">struct </span><a class="code" href="a00094.html">ilinkless</a> {
<a name="l00245"></a><a class="code" href="a00094.html#d1af2c2dbe739ca6b9434219e7b1fa0a">00245</a>         <span class="keyword">typedef</span> std::set&lt;ulink_t&gt;::iterator     <a class="code" href="a00094.html#d1af2c2dbe739ca6b9434219e7b1fa0a">iter_t</a>;
<a name="l00246"></a><a class="code" href="a00094.html#270d8aac9688a9deed3427bd5152ea2d">00246</a>         <span class="keywordtype">bool</span>    <a class="code" href="a00094.html#270d8aac9688a9deed3427bd5152ea2d">operator()</a>(<span class="keyword">const</span> <a class="code" href="a00094.html#d1af2c2dbe739ca6b9434219e7b1fa0a">iter_t</a>&amp; a, <span class="keyword">const</span> <a class="code" href="a00094.html#d1af2c2dbe739ca6b9434219e7b1fa0a">iter_t</a>&amp; b)<span class="keyword"> const </span>{
<a name="l00247"></a>00247           <span class="keywordflow">return</span> a-&gt;local_addr() &lt; b-&gt;local_addr();
<a name="l00248"></a>00248         }
<a name="l00249"></a>00249       };
<a name="l00250"></a>00250 
<a name="l00251"></a>00251       <span class="keyword">typedef</span> utl::Index&lt;std::multiset,
<a name="l00252"></a>00252                          std::set&lt;ulink_t&gt;,
<a name="l00253"></a><a class="code" href="a00093.html#44dd5f5bd838cb8ddd54ef1c8cd9652f">00253</a>                          <a class="code" href="a00094.html">ilinkless</a>&gt;             <a class="code" href="a00093.html#44dd5f5bd838cb8ddd54ef1c8cd9652f">lset_t</a>;
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="a00095.html">00255</a>       <span class="keyword">struct </span><a class="code" href="a00095.html">lset_valid</a> {
<a name="l00256"></a><a class="code" href="a00095.html#5cbbc442c68b873dae3f6454d2271680">00256</a>         <span class="keywordtype">bool</span> <a class="code" href="a00095.html#5cbbc442c68b873dae3f6454d2271680">operator()</a>(<a class="code" href="a00093.html">This</a>&amp;, <span class="keyword">const</span> lset_t::iterator&amp; pos)<span class="keyword"> const </span>{
<a name="l00257"></a>00257           <span class="keywordflow">return</span> pos-&gt;is_valid();
<a name="l00258"></a>00258         }
<a name="l00259"></a>00259       };
<a name="l00260"></a>00260 
<a name="l00261"></a>00261       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset&lt;utl::MultiAdapt&lt;lset_t&gt;</a>,
<a name="l00262"></a>00262                           <a class="code" href="a00123.html">utl::NoAction&lt;This, lset_t::iterator&gt;</a>,
<a name="l00263"></a>00263                           lset_valid,
<a name="l00264"></a><a class="code" href="a00093.html#f20db18490a57a4510cc563b4569af99">00264</a>                           <a class="code" href="a00093.html">This</a>&gt;                 <a class="code" href="a00162.html">val_lset_t</a>;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266       <span class="keyword">explicit</span> <span class="keyword">inline</span> <a class="code" href="a00093.html#f631b694a1fc43db889f3a4bf0f84459">Neighbor</a>();
<a name="l00267"></a>00267     <span class="keyword">public</span>:
<a name="l00268"></a><a class="code" href="a00093.html#21a6d49e0416172e894b30dda18c4fa1">00268</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">val_lset_t</a>                        <a class="code" href="a00162.html">linkset_t</a>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270       <span class="keyword">inline</span> <a class="code" href="a00093.html#f631b694a1fc43db889f3a4bf0f84459">Neighbor</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; maddr,
<a name="l00271"></a>00271                       <span class="keyword">const</span> std::set&lt;ulink_t&gt;::iterator&amp; i,
<a name="l00272"></a>00272                       <span class="keywordtype">unsigned</span> w);
<a name="l00273"></a>00273 
<a name="l00274"></a>00274       <span class="keyword">inline</span> <a class="code" href="a00093.html#f631b694a1fc43db889f3a4bf0f84459">Neighbor</a>(<span class="keyword">const</span> <a class="code" href="a00093.html">This</a>&amp;);
<a name="l00275"></a>00275 
<a name="l00276"></a><a class="code" href="a00093.html#92f08fe140305fff7f26e330ac50bee6">00276</a>       <span class="keyword">virtual</span> <a class="code" href="a00093.html#92f08fe140305fff7f26e330ac50bee6">~Neighbor</a>() {}
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="a00093.html#75e376101a6e69333c8ba97e6c7eb8cc">00278</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00093.html#75e376101a6e69333c8ba97e6c7eb8cc">main_addr</a>()<span class="keyword">   const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00093.html#a4b38ca34feedee9044e957e29cf1c31">m_addr_</a>;      }
<a name="l00279"></a><a class="code" href="a00093.html#c95105e43f10fafd4db332f522e3396a">00279</a>       <span class="keywordtype">unsigned</span>          <a class="code" href="a00093.html#c95105e43f10fafd4db332f522e3396a">willingness</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00093.html#38fbd91b7fdfe4229a2aa118a0cbdf84">willingness_</a>; }
<a name="l00280"></a><a class="code" href="a00093.html#51110075f92bce92313533cf1edc0417">00280</a>       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  <a class="code" href="a00093.html#51110075f92bce92313533cf1edc0417">mprsel_time</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00093.html#c5f29444275ef7c9a014f141580a0f06">mprsel_time_</a>; }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#72ac3b5d8671738b0683bfc3ab54026d">set_willingness</a>(<span class="keywordtype">unsigned</span> w);
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="a00093.html#61a81f12100f888be1838c34dc585f31">00284</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00093.html#61a81f12100f888be1838c34dc585f31">is_sym</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00093.html#0af8048c3e276d923d45418282525801">sym_</a>; }
<a name="l00285"></a><a class="code" href="a00093.html#e47dce409ee462421e05f69904e9d3e2">00285</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00093.html#e47dce409ee462421e05f69904e9d3e2">is_mpr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00093.html#bcc39390ea6ad2c1a1ae468b0c82c303">mpr_</a>; }
<a name="l00286"></a>00286       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00093.html#ee3c73c739c73658cf209c71ddd1a2e0">is_mprsel</a>() <span class="keyword">const</span>;
<a name="l00287"></a>00287       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00093.html#d2c70d2710fd695703e7f0a2f2aa1c72">was_mprsel</a>();
<a name="l00288"></a>00288 
<a name="l00289"></a><a class="code" href="a00093.html#5c0d495105b8fd4c73d5f7bafcc48ecc">00289</a>       <span class="keywordtype">void</span>              <a class="code" href="a00093.html#5c0d495105b8fd4c73d5f7bafcc48ecc">set_sym</a>(<span class="keywordtype">bool</span> state) { <a class="code" href="a00093.html#0af8048c3e276d923d45418282525801">sym_</a> = state; }
<a name="l00290"></a>00290 
<a name="l00291"></a><a class="code" href="a00093.html#ed8aa052603679d78297974c34d29468">00291</a>       <span class="keywordtype">void</span>              <a class="code" href="a00093.html#ed8aa052603679d78297974c34d29468">set_mpr</a>(<span class="keywordtype">bool</span> state) { <a class="code" href="a00093.html#bcc39390ea6ad2c1a1ae468b0c82c303">mpr_</a> = state; }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#e09a69fe688fa4789c83720da0306745">set_mprsel</a>(<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; validity);
<a name="l00294"></a>00294 
<a name="l00295"></a>00295       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#8a9eff1582d6898101f7547b0e55cff1">unset_mprsel</a>();
<a name="l00296"></a>00296 
<a name="l00297"></a>00297       <span class="keyword">inline</span> std::pair&lt;linkset_t::const_iterator, linkset_t::const_iterator&gt;
<a name="l00298"></a>00298                         <a class="code" href="a00093.html#9d7c4002cd756cd5750d46d842189714">find_lifaces</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; laddr) <span class="keyword">const</span>;
<a name="l00299"></a>00299 
<a name="l00300"></a>00300 <span class="comment">//       bool           is_liface(const address_t&amp; iaddr) const;</span>
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="a00093.html#1ea399ed41ad8c593cdf541e6620208b">00302</a>       <a class="code" href="a00162.html">linkset_t</a>&amp;        <a class="code" href="a00093.html#1ea399ed41ad8c593cdf541e6620208b">linkset</a>() { <span class="keywordflow">return</span> <a class="code" href="a00093.html#ebae42b34a1ba6080d438cc987da1ce2">val_lset_</a>; }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#adb479e2758f789946919941a45d4687">insert</a>(<span class="keyword">const</span> std::set&lt;ulink_t&gt;::iterator&amp; pos);
<a name="l00305"></a>00305 
<a name="l00306"></a>00306       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#8e807486e28a3331ea437d02fb9090bf">erase</a>(<span class="keyword">const</span> lset_t::iterator&amp; pos);
<a name="l00307"></a>00307       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00093.html#8e807486e28a3331ea437d02fb9090bf">erase</a>(<span class="keyword">const</span> std::set&lt;ulink_t&gt;::iterator&amp; pos);
<a name="l00308"></a>00308 
<a name="l00309"></a>00309       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00093.html#6eb6566c17e4b6c831b452e92d38ef44">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="a00093.html#d35bdb67ee466fe770f6f434e7e132fa">This</a>&amp; rhs) <span class="keyword">const</span>;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00093.html#d35bdb67ee466fe770f6f434e7e132fa">This</a>&amp; <a class="code" href="a00093.html#583ed09ee37bafb0a24c0e0570a53bc9">make_key</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; m);
<a name="l00312"></a>00312 
<a name="l00313"></a>00313     <span class="keyword">private</span>:
<a name="l00314"></a><a class="code" href="a00093.html#a4b38ca34feedee9044e957e29cf1c31">00314</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00093.html#a4b38ca34feedee9044e957e29cf1c31">m_addr_</a>;
<a name="l00315"></a><a class="code" href="a00093.html#c74e1c61a6545137c9b5f2799725aa57">00315</a>       <a class="code" href="a00093.html#44dd5f5bd838cb8ddd54ef1c8cd9652f">lset_t</a>            <a class="code" href="a00093.html#c74e1c61a6545137c9b5f2799725aa57">lset_</a>;
<a name="l00316"></a><a class="code" href="a00093.html#ebae42b34a1ba6080d438cc987da1ce2">00316</a>       <a class="code" href="a00162.html">val_lset_t</a>        <a class="code" href="a00093.html#ebae42b34a1ba6080d438cc987da1ce2">val_lset_</a>;
<a name="l00317"></a><a class="code" href="a00093.html#0af8048c3e276d923d45418282525801">00317</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00093.html#0af8048c3e276d923d45418282525801">sym_</a>;
<a name="l00318"></a><a class="code" href="a00093.html#bcc39390ea6ad2c1a1ae468b0c82c303">00318</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00093.html#bcc39390ea6ad2c1a1ae468b0c82c303">mpr_</a>;
<a name="l00319"></a><a class="code" href="a00093.html#c5f29444275ef7c9a014f141580a0f06">00319</a>       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         <a class="code" href="a00093.html#c5f29444275ef7c9a014f141580a0f06">mprsel_time_</a>;
<a name="l00320"></a><a class="code" href="a00093.html#562cf6b5084face6a8a372824b214b00">00320</a>       <span class="keywordtype">bool</span>              <a class="code" href="a00093.html#562cf6b5084face6a8a372824b214b00">was_mprsel_</a>;
<a name="l00321"></a><a class="code" href="a00093.html#38fbd91b7fdfe4229a2aa118a0cbdf84">00321</a>       <span class="keywordtype">unsigned</span>          <a class="code" href="a00093.html#38fbd91b7fdfe4229a2aa118a0cbdf84">willingness_</a>;
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="a00093.html#d3b373da423c2a8f9cbd4864fe2881c3">00323</a>       <span class="keyword">static</span> <a class="code" href="a00093.html">Neighbor</a>   <a class="code" href="a00093.html#d3b373da423c2a8f9cbd4864fe2881c3">dummy_for_find_</a>;
<a name="l00324"></a>00324 
<a name="l00325"></a><a class="code" href="a00093.html#c3bfe10973c89760a501609f3767a172">00325</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00158.html">sch::StatePrinter</a>;
<a name="l00326"></a>00326     };
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     <span class="keyword">namespace </span>upd {
<a name="l00329"></a>00329 
<a name="l00330"></a><a class="code" href="a00096.html">00330</a>       <span class="keyword">class </span><a class="code" href="a00096.html">NeighborUpdater</a> {
<a name="l00331"></a><a class="code" href="a00096.html#3ef2b3cd31965e294eed5f318368f2b4">00331</a>         <span class="keyword">typedef</span> <a class="code" href="a00096.html">NeighborUpdater</a>                 <a class="code" href="a00096.html">This</a>;
<a name="l00332"></a><a class="code" href="a00096.html#aada677fa805256839fbb92a601ae597">00332</a>         <span class="keyword">typedef</span> <a class="code" href="a00013.html">CoherenceProxy</a>                  <a class="code" href="a00013.html">Set</a>;
<a name="l00333"></a><a class="code" href="a00096.html#671641bf13fe729426700eb179c780c5">00333</a>         <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;Neighbor&gt;</a>        <a class="code" href="a00184.html">elem_t</a>;
<a name="l00334"></a><a class="code" href="a00096.html#b4bb1fbecb29fbbb5beeb83f016ac7e4">00334</a>         <span class="keyword">typedef</span> std::set&lt;elem_t&gt;::iterator      <a class="code" href="a00096.html#b4bb1fbecb29fbbb5beeb83f016ac7e4">Iter</a>;
<a name="l00335"></a><a class="code" href="a00096.html#8de33f03c417777cd99feb46089625cc">00335</a>         <span class="keyword">typedef</span> <a class="code" href="a00185.html">sch::UpdateEvent&lt;This&gt;</a>          <a class="code" href="a00185.html">updater_t</a>;
<a name="l00336"></a>00336       <span class="keyword">public</span>:
<a name="l00337"></a><a class="code" href="a00096.html#e065d85dddb375552fe7edb058dd11a2">00337</a>         <a class="code" href="a00096.html#e065d85dddb375552fe7edb058dd11a2">NeighborUpdater</a>(<a class="code" href="a00013.html">Set</a>&amp; s, <span class="keyword">const</span> <a class="code" href="a00096.html#b4bb1fbecb29fbbb5beeb83f016ac7e4">Iter</a>&amp; i)
<a name="l00338"></a>00338           : <a class="code" href="a00096.html#6dc19034174b3edb7191ed5d1a4e8e17">set_</a>(s),
<a name="l00339"></a>00339             <a class="code" href="a00096.html#3529f97eff13da00fe37c4379dd9fafb">iter_</a>(i)
<a name="l00340"></a>00340         {}
<a name="l00341"></a>00341         <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code" href="a00096.html#55a21d68e0c8c741421835010faa9ab4">operator()</a>();
<a name="l00342"></a>00342       <span class="keyword">private</span>:
<a name="l00343"></a><a class="code" href="a00096.html#6dc19034174b3edb7191ed5d1a4e8e17">00343</a>         <a class="code" href="a00013.html">Set</a>&amp;    <a class="code" href="a00096.html#6dc19034174b3edb7191ed5d1a4e8e17">set_</a>;
<a name="l00344"></a><a class="code" href="a00096.html#3529f97eff13da00fe37c4379dd9fafb">00344</a>         <a class="code" href="a00096.html#b4bb1fbecb29fbbb5beeb83f016ac7e4">Iter</a>    <a class="code" href="a00096.html#3529f97eff13da00fe37c4379dd9fafb">iter_</a>;
<a name="l00345"></a>00345       };
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     } <span class="comment">// namespace upd</span>
<a name="l00348"></a>00348 
<a name="l00350"></a>00350     <span class="comment">//  The coherence management proxy</span>
<a name="l00351"></a>00351     <span class="comment">//</span>
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="a00013.html">00353</a>     <span class="keyword">class </span><a class="code" href="a00013.html">CoherenceProxy</a> {
<a name="l00354"></a><a class="code" href="a00013.html#be35301268abeddf8a3d0a4253121bb6">00354</a>       <span class="keyword">typedef</span> <a class="code" href="a00013.html">CoherenceProxy</a>    <a class="code" href="a00013.html">This</a>;
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 <span class="comment">//       typedef internal::nested_type_traits&lt;This&gt;     ntt_t;</span>
<a name="l00357"></a>00357 
<a name="l00358"></a><a class="code" href="a00013.html#044b7c694f87a9054e8c8f01e0e4de9f">00358</a>       <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;Link&gt;</a>                      <a class="code" href="a00184.html">ulink_t</a>;
<a name="l00359"></a><a class="code" href="a00013.html#9e348de8a6e96604c45404b6ed5a0a33">00359</a>       <span class="keyword">typedef</span> <a class="code" href="a00185.html">sch::UpdateEvent&lt;upd::LinkUpdater&gt;</a>        <a class="code" href="a00185.html">link_updater_t</a>;
<a name="l00360"></a><a class="code" href="a00013.html#34524c59f5ffc988591d04ab25b039db">00360</a>       <span class="keyword">typedef</span> std::set&lt;ulink_t&gt;                         <a class="code" href="a00013.html#34524c59f5ffc988591d04ab25b039db">lset_t</a>;
<a name="l00361"></a>00361 
<a name="l00362"></a><a class="code" href="a00013.html#7ef14767cad9c969764a01ebb78d215c">00362</a>       <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;Neighbor&gt;</a>                  <a class="code" href="a00184.html">uneighbor_t</a>;
<a name="l00363"></a><a class="code" href="a00013.html#ff796a7d190642b9a780f82902cc80d0">00363</a>       <span class="keyword">typedef</span> <a class="code" href="a00185.html">sch::UpdateEvent&lt;upd::NeighborUpdater&gt;</a>    <a class="code" href="a00185.html">neighbor_updater_t</a>;
<a name="l00364"></a>00364 
<a name="l00365"></a><a class="code" href="a00016.html">00365</a>       <span class="keyword">struct </span><a class="code" href="a00016.html">stampable_nset_</a> : <span class="keyword">public</span> std::set&lt;uneighbor_t&gt;,
<a name="l00366"></a>00366                                <span class="keyword">public</span> utl::Stampable {};
<a name="l00367"></a>00367 
<a name="l00368"></a><a class="code" href="a00013.html#b93a7c307eced5fb6dbcda8d2167e9ed">00368</a>       <span class="keyword">typedef</span> <a class="code" href="a00016.html">stampable_nset_</a>   <a class="code" href="a00016.html">nset_t</a>;
<a name="l00369"></a>00369 
<a name="l00370"></a>00370       <span class="comment">// Some functors</span>
<a name="l00371"></a>00371       <span class="keyword">template</span> &lt;<span class="keyword">class</span> Set, <span class="keyword">class</span> Iter&gt;
<a name="l00372"></a><a class="code" href="a00015.html">00372</a>       <span class="keyword">struct </span><a class="code" href="a00015.html">nset_valid</a> {
<a name="l00373"></a><a class="code" href="a00015.html#bc85e68d2c48862e8bcef5bcd7cb1a5d">00373</a>         <span class="keywordtype">bool</span> <a class="code" href="a00015.html#bc85e68d2c48862e8bcef5bcd7cb1a5d">operator()</a>(Set&amp; explicit_this, <span class="keyword">const</span> Iter&amp; pos)<span class="keyword"> const </span>{
<a name="l00374"></a>00374           <span class="keywordflow">return</span> explicit_this.is_valid(pos);
<a name="l00375"></a>00375         }
<a name="l00376"></a>00376       };
<a name="l00377"></a>00377 
<a name="l00378"></a>00378       <span class="comment">// Valid Link set</span>
<a name="l00379"></a><a class="code" href="a00013.html#e7f4594238a145a194963760f9209bbb">00379</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset&lt;lset_t&gt;</a>       <a class="code" href="a00162.html">val_lset_t</a>;
<a name="l00380"></a>00380 
<a name="l00381"></a>00381       <span class="comment">// Valid Neighbor set</span>
<a name="l00382"></a>00382       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset</a>&lt;<a class="code" href="a00016.html">nset_t</a>,
<a name="l00383"></a>00383                           <a class="code" href="a00123.html">utl::NoAction&lt;This, nset_t::iterator&gt;</a>,
<a name="l00384"></a>00384                           <a class="code" href="a00015.html">nset_valid&lt;This, nset_t::iterator&gt;</a>,
<a name="l00385"></a><a class="code" href="a00013.html#a96b7121f7849d7719a1fe74a5030d79">00385</a>                           <a class="code" href="a00013.html">This</a>&gt;         <a class="code" href="a00162.html">val_nset_t</a>;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387       <span class="keyword">template</span> &lt;<span class="keyword">class</span> Set&gt;
<a name="l00388"></a><a class="code" href="a00014.html">00388</a>       <span class="keyword">struct </span><a class="code" href="a00014.html">nset_sym</a> {
<a name="l00389"></a><a class="code" href="a00014.html#b40baeea4dd74b290b38b384dbb660c4">00389</a>         <span class="keywordtype">bool</span> <a class="code" href="a00014.html#b40baeea4dd74b290b38b384dbb660c4">operator()</a>(Set&amp;, <span class="keyword">const</span> <span class="keyword">typename</span> Set::iterator&amp; pos)<span class="keyword"> const </span>{
<a name="l00390"></a>00390           <span class="keywordflow">return</span> pos-&gt;is_sym();
<a name="l00391"></a>00391         }
<a name="l00392"></a>00392       };
<a name="l00393"></a>00393 
<a name="l00394"></a>00394       <span class="comment">// Symmetric Neighbor set</span>
<a name="l00395"></a>00395       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset</a>&lt;<a class="code" href="a00013.html#a96b7121f7849d7719a1fe74a5030d79">val_nset_t</a>,
<a name="l00396"></a>00396                           <a class="code" href="a00123.html">utl::NoAction&lt;val_nset_t&gt;</a>,
<a name="l00397"></a><a class="code" href="a00013.html#72123fa59d6a37c0b29eb2b29f2053bb">00397</a>                           <a class="code" href="a00014.html">nset_sym&lt;val_nset_t&gt;</a> &gt;        <a class="code" href="a00162.html">sym_val_nset_t</a>;
<a name="l00398"></a>00398 
<a name="l00399"></a><a class="code" href="a00013.html#67ca572ddf56104f5bb8ae0987d2e7f2">00399</a>       <span class="keyword">typedef</span> <a class="code" href="a00087.html">utl::MSIndex&lt;lset_t, 0, address_t&gt;</a>        <a class="code" href="a00087.html">idx_lset_t</a>;
<a name="l00400"></a>00400 
<a name="l00401"></a>00401       <span class="comment">// First multistamped index on Neighbors</span>
<a name="l00402"></a><a class="code" href="a00013.html#3dbc076f08abc68ec04fb9268f7a8094">00402</a>       <span class="keyword">typedef</span> <a class="code" href="a00087.html">utl::MSIndex&lt;nset_t, 0, address_t&gt;</a>        <a class="code" href="a00087.html">idx_nset_t</a>;
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 <span class="comment">//       // Second multistamped index on Neighbors</span>
<a name="l00405"></a>00405 <span class="comment">//       typedef utl::MSIndex&lt;nset_t, 1, address_t&gt;     idx1_nset_t;</span>
<a name="l00406"></a>00406 
<a name="l00407"></a>00407       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset&lt;utl::MSAdapt&lt;idx_lset_t&gt;</a>,
<a name="l00408"></a>00408                           <a class="code" href="a00123.html">utl::NoAction&lt;idx_lset_t&gt;</a>,
<a name="l00409"></a>00409                           <a class="code" href="a00024.html">utl::DefaultPredicate&lt;idx_lset_t&gt;</a>,
<a name="l00410"></a><a class="code" href="a00013.html#6ef7943484af75859aa8e9c60f8e21ef">00410</a>                           <a class="code" href="a00087.html">idx_lset_t</a>&gt;                   <a class="code" href="a00162.html">val_idx_lset_t</a>;
<a name="l00411"></a>00411 
<a name="l00412"></a>00412       <span class="comment">// First valid multistamped index on Neighbors</span>
<a name="l00413"></a>00413       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset&lt;utl::MSAdapt&lt;idx_nset_t&gt;</a>,
<a name="l00414"></a>00414                           <a class="code" href="a00123.html">utl::NoAction&lt;This, idx_nset_t::iterator&gt;</a>,
<a name="l00415"></a>00415                           <a class="code" href="a00015.html">nset_valid&lt;This, idx_nset_t::iterator&gt;</a>,
<a name="l00416"></a><a class="code" href="a00013.html#072b50879dd45c7b0888e0b515575056">00416</a>                           <a class="code" href="a00013.html">This</a>&gt;                         <a class="code" href="a00162.html">val_idx_nset_t</a>;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 <span class="comment">//       // Second valid multistamped index on Neighbors</span>
<a name="l00419"></a>00419 <span class="comment">//       typedef utl::Subset&lt;utl::MSAdapt&lt;idx1_nset_t&gt;,</span>
<a name="l00420"></a>00420 <span class="comment">//                        utl::NoAction&lt;This, idx1_nset_t::iterator&gt;,</span>
<a name="l00421"></a>00421 <span class="comment">//                        nset_valid&lt;This, idx1_nset_t::iterator&gt;,</span>
<a name="l00422"></a>00422 <span class="comment">//                        This&gt;         val_idx1_nset_t;</span>
<a name="l00423"></a>00423 
<a name="l00424"></a><a class="code" href="a00017.html">00424</a>       <span class="keyword">struct </span><a class="code" href="a00017.html">val_idx_nset_stamper</a> {
<a name="l00425"></a><a class="code" href="a00017.html#dff2fa0249b8ced32eebcfa7fc70168a">00425</a>         <span class="keywordtype">void</span> <a class="code" href="a00017.html#dff2fa0249b8ced32eebcfa7fc70168a">operator()</a>(<a class="code" href="a00162.html">val_idx_nset_t</a>&amp; set_ref,
<a name="l00426"></a>00426                         <a class="code" href="a00023.html">val_idx_nset_t::iterator</a> pos)<span class="keyword"> const </span>{
<a name="l00427"></a>00427           set_ref.set_stamp(pos);
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429       };
<a name="l00430"></a>00430 
<a name="l00431"></a>00431       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset&lt;utl::MSAdapt&lt;val_idx_nset_t&gt;</a>,
<a name="l00432"></a>00432                           val_idx_nset_stamper,
<a name="l00433"></a>00433                           nset_sym&lt;val_idx_nset_t&gt;,
<a name="l00434"></a><a class="code" href="a00013.html#2dc337b26843c042510d4b38c3c6ea11">00434</a>                           <a class="code" href="a00162.html">val_idx_nset_t</a>&gt;               <a class="code" href="a00162.html">sym_val_idx_nset_t</a>;
<a name="l00435"></a>00435     <span class="keyword">public</span>:
<a name="l00436"></a>00436       <span class="keyword">inline</span> <a class="code" href="a00013.html#abc585320cf511e687dce25f5c57f683">CoherenceProxy</a>();
<a name="l00437"></a>00437 
<a name="l00438"></a>00438       <span class="keyword">virtual</span> <span class="keyword">inline</span> <a class="code" href="a00013.html#39b47420bbf96804bd15a0a2041e16c3">~CoherenceProxy</a>();
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="a00013.html#a61afdec9db97f0e0bb1ff05193d93dd">00440</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">val_lset_t</a>                <a class="code" href="a00162.html">linkset_t</a>;
<a name="l00441"></a><a class="code" href="a00013.html#3064114c0ba2605f2aeb2489c3d4e32d">00441</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">val_idx_lset_t</a>            <a class="code" href="a00162.html">hello_linkset_t</a>;
<a name="l00442"></a>00442 
<a name="l00443"></a><a class="code" href="a00013.html#6d5cdfaa01eb182603f9605fc8c0e713">00443</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">val_nset_t</a>                <a class="code" href="a00162.html">neighborset_t</a>;
<a name="l00444"></a><a class="code" href="a00013.html#0b7da06a1018b3e0206d771707be7055">00444</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">sym_val_nset_t</a>            <a class="code" href="a00162.html">sym_neighborset_t</a>;
<a name="l00445"></a><a class="code" href="a00013.html#22b597d7f2cef2b2746c902d27f312a0">00445</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">sym_val_idx_nset_t</a>        <a class="code" href="a00162.html">tc_neighborset_t</a>;
<a name="l00446"></a>00446 
<a name="l00462"></a>00462 <span class="preprocessor"># ifdef QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00463"></a>00463 <span class="preprocessor"></span>      <span class="keyword">inline</span> std::pair&lt;neighborset_t::iterator, bool&gt;
<a name="l00464"></a>00464       <a class="code" href="a00013.html#4241453976bdd9942a7922a9fa56b532">insert_link</a>(<span class="keyword">const</span> <a class="code" href="a00079.html">msg::Message::header</a>&amp; mh,
<a name="l00465"></a>00465                   <span class="keyword">const</span> <span class="keywordtype">int</span> linktype,
<a name="l00466"></a>00466                   <span class="keyword">const</span> <span class="keywordtype">int</span> will,
<a name="l00467"></a>00467                   <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; htime);
<a name="l00468"></a>00468 <span class="preprocessor"># else // !QOLYESTER_ENABLE_LINKHYS</span>
<a name="l00469"></a>00469 <span class="preprocessor"></span>      <span class="keyword">inline</span> std::pair&lt;neighborset_t::iterator, bool&gt;
<a name="l00470"></a>00470       <a class="code" href="a00013.html#4241453976bdd9942a7922a9fa56b532">insert_link</a>(<span class="keyword">const</span> <a class="code" href="a00079.html">msg::Message::header</a>&amp; mh,
<a name="l00471"></a>00471                   <span class="keyword">const</span> <span class="keywordtype">int</span> linktype,
<a name="l00472"></a>00472                   <span class="keyword">const</span> <span class="keywordtype">int</span> will);
<a name="l00473"></a>00473 <span class="preprocessor"># endif</span>
<a name="l00486"></a>00486 <span class="preprocessor">      inline void       set_willingness(const nset_t::iterator&amp; pos,</span>
<a name="l00487"></a>00487 <span class="preprocessor"></span>                                        <span class="keywordtype">unsigned</span> w);
<a name="l00488"></a>00488 
<a name="l00493"></a>00493       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#742613c77648dae07af6ce884fe1aec3">update_graph</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00494"></a>00494 
<a name="l00500"></a>00500       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00013.html#7415e01b24bdaec93c0845c84f41e548">update_state</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#7415e01b24bdaec93c0845c84f41e548">update_state</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; maddr);
<a name="l00503"></a>00503 
<a name="l00508"></a>00508       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#fc9f645f81751b155a901990bdfbd797">set_sym</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00509"></a>00509 
<a name="l00514"></a>00514       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#cc8fa2e53fabdeaf7ab3318bc05a6aab">unset_sym</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00515"></a>00515 
<a name="l00516"></a>00516       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#959c30709862570e18877f54abf5d9cd">set_mpr</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00517"></a>00517       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#959c30709862570e18877f54abf5d9cd">set_mpr</a>(<span class="keyword">const</span> <a class="code" href="a00023.html">sym_neighborset_t::iterator</a>&amp; pos);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#bbd77e650b6d895265251139eb56f617">unset_mpr</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00520"></a>00520       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#bbd77e650b6d895265251139eb56f617">unset_mpr</a>(<span class="keyword">const</span> <a class="code" href="a00023.html">sym_neighborset_t::iterator</a>&amp; pos);
<a name="l00521"></a>00521 
<a name="l00522"></a>00522       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#c8bc7990d5eb0762e8461ef87f193560">set_mprsel</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos,
<a name="l00523"></a>00523                                    <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; v);
<a name="l00524"></a>00524 
<a name="l00525"></a>00525       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#597f13bc32f98e0231df67cfcb8a9fd5">unset_mprsel</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00526"></a>00526 
<a name="l00527"></a>00527       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00013.html#10af938d64c7b2fcf053a33d157c27af">is_advset_empty</a>();
<a name="l00528"></a>00528 
<a name="l00529"></a><a class="code" href="a00013.html#4b6d9872aec6cb5df8cb282d4f90b909">00529</a>       <span class="keywordtype">bool</span>      <a class="code" href="a00013.html#4b6d9872aec6cb5df8cb282d4f90b909">is_hold_expired</a>()<span class="keyword"> const </span>{
<a name="l00530"></a>00530         <span class="keywordflow">return</span> <a class="code" href="a00013.html#787a99d6ea2df5bd37b542363c90aa7e">nset_</a>.<a class="code" href="a00157.html#09ef607e63000b6603d0eff7d754d762">expired</a>(<a class="code" href="a00292.html#4155f2d655a5bce8abe97be815853614">cst::top_hold_time</a>);
<a name="l00531"></a>00531       }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="a00013.html#c1a9404e2d241584fde716b1531865a5">00533</a>       <span class="keywordtype">void</span>      <a class="code" href="a00013.html#c1a9404e2d241584fde716b1531865a5">stamp_hold</a>() {
<a name="l00534"></a>00534         <a class="code" href="a00013.html#787a99d6ea2df5bd37b542363c90aa7e">nset_</a>.<a class="code" href="a00157.html#1afc512e80aded7b67ed440d4f21faaa">set_stamp</a>();
<a name="l00535"></a>00535       }
<a name="l00536"></a>00536 
<a name="l00537"></a>00537       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00013.html#e10961a6de8457287bda79a5df94f1cc">is_valid</a>(<span class="keyword">const</span> nset_t::iterator&amp; pos);
<a name="l00538"></a>00538       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00013.html#e10961a6de8457287bda79a5df94f1cc">is_valid</a>(<span class="keyword">const</span> <a class="code" href="a00087.html#89c637099b13e9150be48352966c8ee6">idx_nset_t::iterator</a>&amp; pos);
<a name="l00539"></a>00539 <span class="comment">//    inline bool       is_valid(const idx1_nset_t::iterator&amp; pos);</span>
<a name="l00540"></a>00540 
<a name="l00541"></a>00541       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#1b8ee0360f50ac3dd0df8cc924be058e">erase</a>(lset_t::iterator pos);
<a name="l00542"></a>00542     <span class="keyword">private</span>:
<a name="l00543"></a>00543       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#fceb3cc6248cab79474d6ef7c6e0fac7">erase_from_all</a>(nset_t::iterator pos);
<a name="l00544"></a>00544     <span class="keyword">public</span>:
<a name="l00545"></a>00545       <span class="comment">// Subsets accessors</span>
<a name="l00546"></a>00546 
<a name="l00547"></a><a class="code" href="a00013.html#cb8c5a6663ebe8ebaf0ef6e5102d9406">00547</a>       <a class="code" href="a00162.html">linkset_t</a>&amp;                <a class="code" href="a00013.html#cb8c5a6663ebe8ebaf0ef6e5102d9406">linkset</a>() {
<a name="l00548"></a>00548         <span class="keywordflow">return</span> <a class="code" href="a00013.html#7ba395d051d85ee270053ecd5397e525">linkset_</a>;
<a name="l00549"></a>00549       }
<a name="l00550"></a>00550 
<a name="l00551"></a><a class="code" href="a00013.html#bf9d7a97f385e75c292701e49a7e845c">00551</a>       <a class="code" href="a00162.html">hello_linkset_t</a>&amp;          <a class="code" href="a00013.html#bf9d7a97f385e75c292701e49a7e845c">hello_linkset</a>() {
<a name="l00552"></a>00552         <span class="keywordflow">return</span> <a class="code" href="a00013.html#639a89e53ab87fe122301ab9d2433210">hello_linkset_</a>;
<a name="l00553"></a>00553       }
<a name="l00554"></a>00554 
<a name="l00555"></a><a class="code" href="a00013.html#045e264da25847d0404ebb0323b10d2b">00555</a>       <a class="code" href="a00162.html">neighborset_t</a>&amp;            <a class="code" href="a00013.html#045e264da25847d0404ebb0323b10d2b">neighborset</a>() {
<a name="l00556"></a>00556         <span class="keywordflow">return</span> <a class="code" href="a00013.html#a1e0e18a9ae38e9872e48836e226d5ff">neighborset_</a>;
<a name="l00557"></a>00557       }
<a name="l00558"></a>00558 
<a name="l00559"></a><a class="code" href="a00013.html#1af4b2b20849e6bc5c021f09d8dedbe6">00559</a>       <a class="code" href="a00162.html">sym_neighborset_t</a>&amp;        <a class="code" href="a00013.html#1af4b2b20849e6bc5c021f09d8dedbe6">sym_neighborset</a>() {
<a name="l00560"></a>00560         <span class="keywordflow">return</span> <a class="code" href="a00013.html#ab83019e9105c758272214f710b65ddb">sym_neighborset_</a>;
<a name="l00561"></a>00561       }
<a name="l00562"></a>00562 
<a name="l00563"></a><a class="code" href="a00013.html#c6f6b3abcf44b54676a286d5b4d7131d">00563</a>       <a class="code" href="a00162.html">tc_neighborset_t</a>&amp;         <a class="code" href="a00013.html#c6f6b3abcf44b54676a286d5b4d7131d">tc_neighborset</a>() {
<a name="l00564"></a>00564         <span class="keywordflow">return</span> <a class="code" href="a00013.html#8fd2cda855a22e52b4a4dcc454f441d7">tc_neighborset_</a>;
<a name="l00565"></a>00565       }
<a name="l00566"></a>00566 
<a name="l00567"></a><a class="code" href="a00013.html#2ba15243be73b328bf636c7e22685cca">00567</a>       <span class="keyword">const</span> <a class="code" href="a00151.html" title="Sequence number class.">utl::Seqnum&lt;u_int16_t&gt;</a>&amp;     <a class="code" href="a00013.html#2ba15243be73b328bf636c7e22685cca">advset_seqnum</a>() {
<a name="l00568"></a>00568         <span class="keywordflow">if</span> (<a class="code" href="a00013.html#ac28214c29ad6360aff0e5b81904ad72">advset_changed_</a>) {
<a name="l00569"></a>00569           ++<a class="code" href="a00013.html#3fe9e6e3d23a9b474235d68bf100ba49">advset_seqnum_</a>;
<a name="l00570"></a>00570           <a class="code" href="a00013.html#ac28214c29ad6360aff0e5b81904ad72">advset_changed_</a> = <span class="keyword">false</span>;
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572         <span class="keywordflow">return</span> <a class="code" href="a00013.html#3fe9e6e3d23a9b474235d68bf100ba49">advset_seqnum_</a>;
<a name="l00573"></a>00573       }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575       <span class="comment">// Interface addition for multistamped indexes</span>
<a name="l00576"></a>00576       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#08857b7068fbd99367f2589642b4a4a3">add_interface</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; a);
<a name="l00577"></a>00577       <span class="comment">// Interface removal for multistamped indexes</span>
<a name="l00578"></a>00578       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00013.html#cb45c07e3d9b48419303f86451e799fa">remove_interface</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; a);
<a name="l00579"></a>00579 
<a name="l00580"></a>00580     <span class="keyword">private</span>:
<a name="l00581"></a><a class="code" href="a00013.html#16d0713380f372a4211e0c88c3f4a9bc">00581</a>       <a class="code" href="a00013.html#34524c59f5ffc988591d04ab25b039db">lset_t</a>                    <a class="code" href="a00013.html#16d0713380f372a4211e0c88c3f4a9bc">lset_</a>;
<a name="l00582"></a><a class="code" href="a00013.html#787a99d6ea2df5bd37b542363c90aa7e">00582</a>       <a class="code" href="a00016.html">nset_t</a>                    <a class="code" href="a00013.html#787a99d6ea2df5bd37b542363c90aa7e">nset_</a>;
<a name="l00583"></a>00583 
<a name="l00584"></a><a class="code" href="a00013.html#7ba395d051d85ee270053ecd5397e525">00584</a>       <a class="code" href="a00162.html">linkset_t</a>                 <a class="code" href="a00013.html#7ba395d051d85ee270053ecd5397e525">linkset_</a>;
<a name="l00585"></a>00585 
<a name="l00586"></a><a class="code" href="a00013.html#e60288d305ff99455b3787a6f496cb85">00586</a>       <a class="code" href="a00087.html">idx_lset_t</a>                <a class="code" href="a00013.html#e60288d305ff99455b3787a6f496cb85">idx_lset_</a>;
<a name="l00587"></a><a class="code" href="a00013.html#639a89e53ab87fe122301ab9d2433210">00587</a>       <a class="code" href="a00162.html">hello_linkset_t</a>           <a class="code" href="a00013.html#639a89e53ab87fe122301ab9d2433210">hello_linkset_</a>;
<a name="l00588"></a>00588 
<a name="l00589"></a><a class="code" href="a00013.html#a1e0e18a9ae38e9872e48836e226d5ff">00589</a>       <a class="code" href="a00162.html">neighborset_t</a>             <a class="code" href="a00013.html#a1e0e18a9ae38e9872e48836e226d5ff">neighborset_</a>;
<a name="l00590"></a>00590 
<a name="l00591"></a><a class="code" href="a00013.html#ab83019e9105c758272214f710b65ddb">00591</a>       <a class="code" href="a00162.html">sym_neighborset_t</a>         <a class="code" href="a00013.html#ab83019e9105c758272214f710b65ddb">sym_neighborset_</a>;
<a name="l00592"></a>00592 
<a name="l00593"></a><a class="code" href="a00013.html#3f616f4dc29fd6cec11f3fd2921615a9">00593</a>       <a class="code" href="a00087.html">idx_nset_t</a>                <a class="code" href="a00013.html#3f616f4dc29fd6cec11f3fd2921615a9">idx_nset_</a>;
<a name="l00594"></a><a class="code" href="a00013.html#171a23dffa492f10da32325e8b3cbf04">00594</a>       <a class="code" href="a00162.html">val_idx_nset_t</a>            <a class="code" href="a00013.html#171a23dffa492f10da32325e8b3cbf04">val_idx_nset_</a>;
<a name="l00595"></a><a class="code" href="a00013.html#8fd2cda855a22e52b4a4dcc454f441d7">00595</a>       <a class="code" href="a00162.html">tc_neighborset_t</a>          <a class="code" href="a00013.html#8fd2cda855a22e52b4a4dcc454f441d7">tc_neighborset_</a>;
<a name="l00596"></a>00596 
<a name="l00597"></a><a class="code" href="a00013.html#3fe9e6e3d23a9b474235d68bf100ba49">00597</a>       <a class="code" href="a00151.html" title="Sequence number class.">utl::Seqnum&lt;u_int16_t&gt;</a>    <a class="code" href="a00013.html#3fe9e6e3d23a9b474235d68bf100ba49">advset_seqnum_</a>;
<a name="l00598"></a><a class="code" href="a00013.html#ac28214c29ad6360aff0e5b81904ad72">00598</a>       <span class="keywordtype">bool</span>                      <a class="code" href="a00013.html#ac28214c29ad6360aff0e5b81904ad72">advset_changed_</a>;
<a name="l00599"></a>00599 
<a name="l00600"></a><a class="code" href="a00013.html#620855cb0a32c56f9b132a7d9d566776">00600</a>       <span class="keywordtype">unsigned</span>                  <a class="code" href="a00013.html#620855cb0a32c56f9b132a7d9d566776">sym_count_</a>;
<a name="l00601"></a><a class="code" href="a00013.html#06130e426de4712204ff35c8e601fe63">00601</a>       <span class="keywordtype">unsigned</span>                  <a class="code" href="a00013.html#06130e426de4712204ff35c8e601fe63">mpr_count_</a>;
<a name="l00602"></a><a class="code" href="a00013.html#40ac31a3ca30ffc2ed6cb6a669b2b794">00602</a>       <span class="keywordtype">bool</span>                      <a class="code" href="a00013.html#40ac31a3ca30ffc2ed6cb6a669b2b794">mprsel_empty_</a>;
<a name="l00603"></a>00603 
<a name="l00604"></a><a class="code" href="a00013.html#c3bfe10973c89760a501609f3767a172">00604</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00158.html">sch::StatePrinter</a>;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     };
<a name="l00607"></a>00607 
<a name="l00608"></a><a class="code" href="a00174.html">00608</a>     <span class="keyword">class </span><a class="code" href="a00174.html">TwoHopNeighbor</a> {
<a name="l00609"></a><a class="code" href="a00174.html#3a6c55edd0fb2664b63816108b1811e4">00609</a>       <span class="keyword">typedef</span> <a class="code" href="a00174.html">TwoHopNeighbor</a>            <a class="code" href="a00174.html">This</a>;
<a name="l00610"></a>00610 
<a name="l00611"></a>00611       <span class="keyword">inline</span> <a class="code" href="a00174.html#e14fb86bb092709b66a786487d132ea2">TwoHopNeighbor</a>();
<a name="l00612"></a>00612     <span class="keyword">public</span>:
<a name="l00613"></a>00613       <span class="keyword">inline</span> <a class="code" href="a00174.html#e14fb86bb092709b66a786487d132ea2">TwoHopNeighbor</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; a,
<a name="l00614"></a>00614                             <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; tha,
<a name="l00615"></a>00615                             <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;   validity);
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="a00174.html#5c73604dc3f081465ffdadad3dc62168">00617</a>       <span class="keyword">virtual</span> <a class="code" href="a00174.html#5c73604dc3f081465ffdadad3dc62168">~TwoHopNeighbor</a>() {}
<a name="l00618"></a>00618 
<a name="l00619"></a>00619       <span class="comment">// Accessors</span>
<a name="l00620"></a><a class="code" href="a00174.html#b99e028362be0ec5a232f3c1e9e209b3">00620</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00174.html#b99e028362be0ec5a232f3c1e9e209b3">main_addr</a>()<span class="keyword">   const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00174.html#d44e3569737a6d1c4f32fc49cf864026">mainaddr_</a>;   }
<a name="l00621"></a><a class="code" href="a00174.html#106fc18e3e6841f20068ab7d9d7c208a">00621</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp;  <a class="code" href="a00174.html#106fc18e3e6841f20068ab7d9d7c208a">twohop_addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00174.html#f9fb08a6b488fa2fbdd20b0a78110523">twohopaddr_</a>; }
<a name="l00622"></a><a class="code" href="a00174.html#d445139951abe27bf0924bfa0b382187">00622</a>       <span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp;  <a class="code" href="a00174.html#d445139951abe27bf0924bfa0b382187">time</a>()<span class="keyword">        const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00174.html#93dae4af8bbd8a2e8fa8941f18c5ae40">time_</a>;       }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624       <span class="comment">// Modifiers</span>
<a name="l00625"></a><a class="code" href="a00174.html#0be4273852fb994ff392bcd859617ef9">00625</a>       <span class="keywordtype">void</span>      <a class="code" href="a00174.html#0be4273852fb994ff392bcd859617ef9">set_time</a>(<span class="keyword">const</span> <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>&amp; t) { <a class="code" href="a00174.html#93dae4af8bbd8a2e8fa8941f18c5ae40">time_</a> = t; }
<a name="l00626"></a>00626 
<a name="l00627"></a><a class="code" href="a00174.html#329efe6039463164361ed0d38bfad923">00627</a>       <span class="keywordtype">bool</span>      <a class="code" href="a00174.html#329efe6039463164361ed0d38bfad923">is_valid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="a00174.html#93dae4af8bbd8a2e8fa8941f18c5ae40">time_</a>.<a class="code" href="a00170.html#8ad17ad0c2e467bf604bfbd9c02e7468">is_past</a>(); }
<a name="l00628"></a>00628 
<a name="l00629"></a>00629       <span class="keyword">inline</span> <span class="keywordtype">bool</span>       <a class="code" href="a00174.html#8e722c72b52f95c19e57875a291088f1">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="a00174.html#3a6c55edd0fb2664b63816108b1811e4">This</a>&amp; rhs) <span class="keyword">const</span>;
<a name="l00630"></a>00630 
<a name="l00631"></a>00631       <span class="keyword">inline</span> <a class="code" href="a00174.html#3a6c55edd0fb2664b63816108b1811e4">This</a>&amp;      <a class="code" href="a00174.html#b4971456b608823a8f74245dd6a1fb5b">operator=</a>(<span class="keyword">const</span> <a class="code" href="a00174.html#3a6c55edd0fb2664b63816108b1811e4">This</a>&amp; other);
<a name="l00632"></a>00632 
<a name="l00633"></a>00633       <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="a00174.html#3a6c55edd0fb2664b63816108b1811e4">This</a>&amp; <a class="code" href="a00174.html#1597a6d25e1bc32a64bf77588ae8cdad">make_key</a>(<span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; ma,
<a name="l00634"></a>00634                                          <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>&amp; tha);
<a name="l00635"></a>00635     <span class="keyword">private</span>:
<a name="l00636"></a><a class="code" href="a00174.html#d44e3569737a6d1c4f32fc49cf864026">00636</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00174.html#d44e3569737a6d1c4f32fc49cf864026">mainaddr_</a>;
<a name="l00637"></a><a class="code" href="a00174.html#f9fb08a6b488fa2fbdd20b0a78110523">00637</a>       <span class="keyword">const</span> <a class="code" href="a00059.html" title="IPv6 address class.">address_t</a>   <a class="code" href="a00174.html#f9fb08a6b488fa2fbdd20b0a78110523">twohopaddr_</a>;
<a name="l00638"></a><a class="code" href="a00174.html#93dae4af8bbd8a2e8fa8941f18c5ae40">00638</a>       <a class="code" href="a00170.html" title="Proxy class for the timeval standard C data structure.">timeval_t</a>         <a class="code" href="a00174.html#93dae4af8bbd8a2e8fa8941f18c5ae40">time_</a>;
<a name="l00639"></a>00639 
<a name="l00640"></a><a class="code" href="a00174.html#2170518f761648e30d4b9dc8fb319c3d">00640</a>       <span class="keyword">static</span> <a class="code" href="a00174.html">This</a>       <a class="code" href="a00174.html#2170518f761648e30d4b9dc8fb319c3d">dummy_for_find_</a>;
<a name="l00641"></a>00641 
<a name="l00642"></a><a class="code" href="a00174.html#c3bfe10973c89760a501609f3767a172">00642</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00158.html">sch::StatePrinter</a>;
<a name="l00643"></a>00643     };
<a name="l00644"></a>00644 
<a name="l00645"></a><a class="code" href="a00175.html">00645</a>     <span class="keyword">class </span><a class="code" href="a00175.html">TwoHopNeighborSet</a> {
<a name="l00646"></a><a class="code" href="a00175.html#311632ff7d893f571fc8ee71abddcee4">00646</a>       <span class="keyword">typedef</span> <a class="code" href="a00175.html">TwoHopNeighborSet</a>                                 <a class="code" href="a00175.html">This</a>;
<a name="l00647"></a><a class="code" href="a00175.html#e92d88a08ec27565eb23e0ece39d0c71">00647</a>       <span class="keyword">typedef</span> <a class="code" href="a00184.html">sch::Updatable&lt;TwoHopNeighbor&gt;</a>                    <a class="code" href="a00184.html">elem_t</a>;
<a name="l00648"></a><a class="code" href="a00175.html#fa91f4eeab844feb58fe38db5f2776f4">00648</a>       <span class="keyword">typedef</span> std::set&lt;elem_t&gt;                                  <a class="code" href="a00175.html#fa91f4eeab844feb58fe38db5f2776f4">tset_t</a>;
<a name="l00649"></a><a class="code" href="a00175.html#dcba1348081b480c208d53d058cb1322">00649</a>       <span class="keyword">typedef</span> <a class="code" href="a00153.html">sch::upd::SetEraser&lt;This, tset_t::iterator&gt;</a>       <a class="code" href="a00153.html">eraser_t</a>;
<a name="l00650"></a><a class="code" href="a00175.html#59b7ba68e4c829e9cff6cace7a364659">00650</a>       <span class="keyword">typedef</span> <a class="code" href="a00185.html">sch::UpdateEvent&lt;eraser_t&gt;</a>                        <a class="code" href="a00185.html">updater_t</a>;
<a name="l00651"></a>00651 
<a name="l00652"></a>00652       <span class="keyword">typedef</span> <a class="code" href="a00162.html">utl::Subset</a>&lt;<a class="code" href="a00175.html#fa91f4eeab844feb58fe38db5f2776f4">tset_t</a>,
<a name="l00653"></a>00653                           <a class="code" href="a00123.html">utl::NoAction&lt;This, tset_t::iterator&gt;</a>,
<a name="l00654"></a>00654                           <a class="code" href="a00024.html">utl::DefaultPredicate&lt;This, tset_t::iterator&gt;</a>,
<a name="l00655"></a><a class="code" href="a00175.html#13855344d75f0acbed71b3bf7fe85377">00655</a>                           <a class="code" href="a00175.html">This</a>&gt;         <a class="code" href="a00162.html">val_tset_t</a>;
<a name="l00656"></a>00656     <span class="keyword">public</span>:
<a name="l00657"></a><a class="code" href="a00175.html#16a66816add5648d446d07b5ecde169f">00657</a>       <span class="keyword">typedef</span> <a class="code" href="a00162.html">val_tset_t</a>                <a class="code" href="a00162.html">thnset_t</a>;
<a name="l00658"></a>00658 
<a name="l00659"></a><a class="code" href="a00175.html#f5152759c171184bf259b2838b325925">00659</a>       <a class="code" href="a00162.html">thnset_t</a>&amp; <a class="code" href="a00175.html#f5152759c171184bf259b2838b325925">thnset</a>() { <span class="keywordflow">return</span> <a class="code" href="a00175.html#0d00ead1449927b09e8b79fe2bc5495a">thnset_</a>; }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661       <span class="keyword">inline</span> <a class="code" href="a00175.html#fe26336ba3b3dbb8f0d87faefac0ddab">TwoHopNeighborSet</a>();
<a name="l00662"></a><a class="code" href="a00175.html#b81914472e5b83afc3a536ef29b07277">00662</a>       <span class="keyword">virtual</span> <a class="code" href="a00175.html#b81914472e5b83afc3a536ef29b07277">~TwoHopNeighborSet</a>() {}
<a name="l00663"></a>00663 
<a name="l00664"></a>00664       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00175.html#4a63c0a4faa843406113f85856ee60f5">insert</a>(<span class="keyword">const</span> <a class="code" href="a00174.html">TwoHopNeighbor</a>&amp; x);
<a name="l00665"></a>00665       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00175.html#daa3597c1dba45306df36879f68e712a">erase</a>(<span class="keyword">const</span> tset_t::iterator&amp; pos);
<a name="l00666"></a>00666       <span class="keyword">inline</span> <span class="keywordtype">void</span>       <a class="code" href="a00175.html#daa3597c1dba45306df36879f68e712a">erase</a>(<span class="keyword">const</span> tset_t::value_type&amp; x);
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="keyword">private</span>:
<a name="l00669"></a><a class="code" href="a00175.html#cecae41bf502a758fa99f3487e886295">00669</a>       <a class="code" href="a00175.html#fa91f4eeab844feb58fe38db5f2776f4">tset_t</a>    <a class="code" href="a00175.html#cecae41bf502a758fa99f3487e886295">tset_</a>;
<a name="l00670"></a><a class="code" href="a00175.html#0d00ead1449927b09e8b79fe2bc5495a">00670</a>       <a class="code" href="a00162.html">thnset_t</a>  <a class="code" href="a00175.html#0d00ead1449927b09e8b79fe2bc5495a">thnset_</a>;
<a name="l00671"></a>00671 
<a name="l00672"></a><a class="code" href="a00175.html#c3bfe10973c89760a501609f3767a172">00672</a>       <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00158.html">sch::StatePrinter</a>;
<a name="l00673"></a>00673     };
<a name="l00674"></a>00674 
<a name="l00675"></a>00675   } <span class="comment">// namespace set</span>
<a name="l00676"></a>00676 
<a name="l00677"></a><a class="code" href="a00289.html#10d7fb84c421264c13ecbb32ce970b18">00677</a>   <span class="keyword">typedef</span> <a class="code" href="a00013.html">set::CoherenceProxy</a>           <a class="code" href="a00013.html">cproxy_t</a>;
<a name="l00678"></a><a class="code" href="a00289.html#e657c872a240dd999ecd354bfc3133f4">00678</a>   <span class="keyword">typedef</span> <a class="code" href="a00175.html">set::TwoHopNeighborSet</a>        <a class="code" href="a00175.html">thnset_t</a>;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 } <span class="comment">// namespace olsr</span>
<a name="l00681"></a>00681 
<a name="l00682"></a>00682 <span class="preprocessor"># include "<a class="code" href="a00243.html">neighbors.hxx</a>"</span>
<a name="l00683"></a>00683 
<a name="l00684"></a>00684 <span class="preprocessor">#endif // ! QOLYESTER_DAEMON_SET_NEIGHBORS_HH</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Feb 12 20:45:36 2009 for Qolyester daemon by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
